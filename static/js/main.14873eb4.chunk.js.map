{"version":3,"sources":["components/Dimmer.js","components/NotAvailable.js","components/SearchBar.js","components/ImageCard.js","components/ImageList.js","components/Loading.js","api/unsplash.js","components/App.js","index.js"],"names":["Dimmer","className","src","alt","NotAvailable","SearchBar","state","term","onFormSubmit","event","preventDefault","props","onSubmit","this","type","value","onChange","e","setState","target","React","Component","ImageCard","setSpans","height","imageRef","current","clientHeight","spans","Math","ceil","createRef","addEventListener","image","description","urls","style","gridRowEnd","href","full","rel","regular","ref","ImageList","images","map","key","id","Loading","axios","create","baseURL","App","remoteStatus","imagesLoadStatus","onSearchSubmit","query","unsplash","get","params","then","response","data","results","catch","error","status","APP_WAIT","APP_READY","APP_NOT","IMG_WAIT","IMG_READY","IMG_NONE","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.14873eb4.chunk.js","sourcesContent":["import React from 'react';\n\nconst Dimmer = () => (\n  <div className=\"ui container\">\n    <div className=\"ui active transition visible dimmer\">\n      <div className=\"content\">\n        <div className=\"ui indeterminate text loader\">Connection to a remote server. Please wait a few seconds.</div>\n      </div>\n    </div>\n    <img src=\"https://react.semantic-ui.com/images/wireframe/short-paragraph.png\" className=\"ui image\" alt=\"dimmer\" />\n  </div>\n);\n\nexport default Dimmer;\n","import React from 'react';\n\nconst NotAvailable = () => (\n  <div className=\"ui segment\">\n    <div className=\"ui message\">\n      <div className=\"header\">Server is not available</div>\n      <p>Sorry, the service is currently unavailable. Please come back later.</p>\n    </div>\n  </div>\n);\n\nexport default NotAvailable;\n","import React from 'react';\n\nclass SearchBar extends React.Component {\n  state = { term: '' };\n\n  onFormSubmit = event => {\n    event.preventDefault();\n\n    this.props.onSubmit(this.state.term);\n  };\n\n  render() {\n    return (\n      <div className='ui segment'>\n        <form onSubmit={this.onFormSubmit} className='ui form'>\n          <div className='field'>\n            <label>Image Search</label>\n            <input\n              type='text'\n              value={this.state.term}\n              onChange={e =>\n                this.setState({\n                  term: e.target.value\n                })\n              }\n            />\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React from 'react';\n\nclass ImageCard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { spans: 0 };\n\n    this.imageRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.imageRef.current.addEventListener('load', this.setSpans);\n  }\n\n  setSpans = () => {\n    const height = this.imageRef.current.clientHeight;\n\n    const spans = Math.ceil(height / 10);\n\n    this.setState({ spans });\n  };\n\n  render() {\n    const { description, urls } = this.props.image;\n\n    return (\n      <div style={{ gridRowEnd: `span ${this.state.spans}` }}>\n        <a href={urls.full} target='_blank' rel='noopener noreferrer'>\n          <img alt={description} src={urls.regular} ref={this.imageRef} />\n        </a>\n      </div>\n    );\n  }\n}\n\nexport default ImageCard;\n","import React from 'react';\nimport ImageCard from './ImageCard';\nimport './ImageList.css';\n\nconst ImageList = ({ images }) => (\n  <div className=\"image-list\">\n    {images.map((image) => {\n      return <ImageCard key={image.id} image={image} />;\n    })}\n  </div>\n);\n\nexport default ImageList;\n","import React from 'react';\n\nconst Loading = () => <div>Loading...</div>;\n\nexport default Loading;\n","import axios from 'axios';\n\nexport default axios.create({\n  baseURL: 'https://erm-node-api-server.herokuapp.com',\n});\n","import React from 'react';\nimport Dimmer from './Dimmer';\nimport NotAvailable from './NotAvailable';\nimport SearchBar from './SearchBar';\nimport ImageList from './ImageList';\nimport Loading from './Loading';\nimport unsplash from '../api/unsplash';\nimport './App.css';\n\nclass App extends React.Component {\n  state = {\n    images: [],\n    remoteStatus: 'awaiting',\n    imagesLoadStatus: 'none',\n  };\n\n  componentDidMount() {\n    unsplash\n      .get('/')\n      .then((response) => {\n        this.setState({\n          remoteStatus: response.status === 200 ? 'ready' : 'not available',\n        });\n      })\n      .catch((error) => {\n        this.setState({ remoteStatus: 'not available' });\n      });\n  }\n\n  onSearchSubmit = (query) => {\n    this.setState({\n      imagesLoadStatus: 'awaiting',\n    });\n\n    unsplash\n      .get('/request/unsplash', {\n        params: { query },\n      })\n      .then((response) => {\n        this.setState({\n          images: response.data.results,\n          imagesLoadStatus: 'loaded',\n        });\n      })\n      .catch((error) => {\n        this.setState({\n          remoteStatus: 'not available',\n          imagesLoadStatus: 'none',\n        });\n      });\n  };\n\n  render() {\n    const APP_WAIT = this.state.remoteStatus === 'awaiting';\n    const APP_READY = this.state.remoteStatus === 'ready';\n    const APP_NOT = this.state.remoteStatus === 'not available';\n    const IMG_WAIT = this.state.imagesLoadStatus === 'awaiting';\n    const IMG_READY = this.state.imagesLoadStatus === 'loaded';\n    const IMG_NONE = this.state.imagesLoadStatus === 'none';\n\n    return (\n      <div className='ui container app'>\n        {APP_WAIT && <Dimmer />}\n        {APP_READY && (\n          <div className='ui container'>\n            <SearchBar onSubmit={this.onSearchSubmit} />\n            {IMG_WAIT && <Loading />}\n            {IMG_READY && <ImageList images={this.state.images} />}\n            {IMG_NONE && null}\n          </div>\n        )}\n        {APP_NOT && <NotAvailable />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}